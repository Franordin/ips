<!DOCTYPE html>
<html lang="ko">

<head>
    <!-- basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <!-- site metas -->
    <title>NDIPSL</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- bootstrap css -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <!-- style css -->
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <!-- Responsive-->
    <link rel="stylesheet" href="/css/responsive.css">
    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="/css/jquery.mCustomScrollbar.min.css">
    <!-- Tweaks for older IEs-->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <!-- owl stylesheets -->
    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
</head>

<body>
    <% if (userId) { %>
        <h1 style="background-color: lightsalmon; text-align: center;"> <%= userId %> 으로 로그인 되었습니다. &nbsp; <a href="/logout"> [로그아웃] </a> </h1>
    <% } %>

    <div class="container">
        <div class="row">
            <div class="col mx-auto logo text-center">
                <a href="/" action="/home">
                    <img src="/images/logo.png" class="logo" alt="Logo">
                </a>
            </div>
        </div>
    </div>

    <hr style="width: 100%;">

    <nav class="navbar navbar-expand-lg navbar-light">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/greeting" action="/greeting">인사말</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/vision" action="/vision">비전과 목표</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/ips" action="/ips">연구 분야 / IPS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/academic" action="/academic">학술 정보</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/announcement" action="/announcement">공지 사항</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/docs" action="/docs">자료실</a>
                </li>
            </ul>
        </div>
    </nav>
    <!-- header section end -->

    <!-- banner section start -->
    <div class="section-default-banner" style="background-image: url('/images/banner_notice.jpg');">
        <div class="col-md-12">
            <h1 class="text_strategy_banner"> 공지 사항 </h1>
        </div>
    </div>
    <!-- banner section end -->

    
    <!-- announcement section start -->
    <div class="section-default">
        <div class="container">
            <div class="row">
                <% if (userId) { %>
                    <button class="btn-login" onclick="window.location.href='/write';" style="width: 80px; background-color: #4f99e5;">글 작성</button>
                <% } %>

                <table class="table table-hover">
                    <colgroup>
                        <col width="11%" />
                        <col width="38%" />
                        <col width="15%" />
                        <col width="25%" />
                        <col width="11%" />
                    </colgroup>
                    <thead>
                        <tr>
                            <th scope="col" class="text-center" style="font-size: medium;">번호</th>
                            <th scope="col" class="text-center" style="font-size: medium;">제목</th>
                            <th scope="col" class="text-center" style="font-size: medium;">작성자</th>
                            <th scope="col" class="text-center" style="font-size: medium;">날짜</th>
                            <th scope="col" class="text-center" style="font-size: medium;">조회 수</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% for (notice of notices) { %>
                        <tr>
                            <td scope="col" class="text-center"><%= notice.id %></td>
                            <td scope="col">
                                <a href="/viewPost?id=<%= notice.id %>&type=announce" style="text-decoration: none; color: inherit;">
                                    <%= notice.title %>
                                </a>
                            </td>
                            <td scope="col" class="text-center"><%= notice.writer %></td>
                            <td scope="col" class="text-center datetime"><%= notice.createdAt %></td>
                            <td scope="col" class="text-center"><%= notice.views %></td>
                        </tr>
                        <% } %>
                    </tbody>
                </table>
                
                <div class="section-divide-line">
                    <div class="container" style="padding-top: 10px;">
                        <hr style="width: 100%; border: 0; border-top: 2px solid #4f99e5;">
                    </div>
                </div>

                <div class="col-lg-6 offset-lg-3 py-4 d-flex">
                    <ul class="pagination mx-auto">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" aria-label="Previous">
                                <span aria-hidden="true">«</span>
                                <span class="sr-only">Previous</span>
                            </a>
                        </li>
                        <li class="page-item active">
                            <a class="page-link" href="#">1</a>
                        </li>
                        <!-- <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item"><a class="page-link" href="#">4</a></li> -->
                        <li class="page-item">
                            <a class="page-link" href="#" aria-label="Next">
                                <span aria-hidden="true">»</span>
                                <span class="sr-only">Next</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- announcement section end -->

    <!-- footer section start -->
    <div class="section-footer">
        <div class="container">
            <div class="row">
                <div class="logo-footer"><img src="images/logo-grayscale.png" alt="logo-grayscale"></div>
                <div class="v-line-footer"></div>
                <div class="text-footer"> 경기도 수원시 영통구 광교산로 154-42(이의동) 경기대학교 육영관 8507호 <br> Developed by Hyeontae Son </div>
                <% if (userId) { %>
                    <button type="button" class="btn btn-secondary" style="margin-top: 10px; margin-left: 20px; height: 40px;" onclick="window.location.href='/logout';"> 로그아웃 </button>
                    <!-- <%= userId %> -->
                    <% } else { %>
                        <button type="button" class="btn btn-secondary" style="margin-top: 10px; margin-left: 20px; height: 40px;" onclick="window.location.href='/login';"> 관리자 로그인 </button>
                        <% } %>
            </div>
        </div>
    </div>
    <!-- footer section end -->

    <!-- Javascript files-->
    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.0.0.min.js"></script>
    <script src="js/plugin.js"></script>
    <!-- sidebar -->
    <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="js/custom.js"></script>
    <!-- javascript -->
    <script src="js/owl.carousel.js"></script>
    <script src="https:cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".fancybox").fancybox({
                openEffect: "none",
                closeEffect: "none"
            });
            // Date and time format conversion functions
            function formatDateTime(dateString) {
                const date = new Date(dateString);
                const year = date.getFullYear();
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                const hours = String(date.getHours()).padStart(2, '0');
                const minutes = String(date.getMinutes()).padStart(2, '0');

                return `${year}.${month}.${day} ${hours}:${minutes}`;
            }

            // Finds all date elements in a table and changes their format
            $('td.datetime').each(function () {
                const originalDate = $(this).text();
                const formattedDate = formatDateTime(originalDate);
                $(this).text(formattedDate);
            });
        });
    </script>
    <!-- Javascript files end-->

</body>

</html>